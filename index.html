<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZenithIQ - Advanced AI Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            height: 100vh;
            overflow: hidden;
        }

        .app-container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: #ffffff;
            border-right: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .sidebar-header {
            padding: 16px;
            border-bottom: 1px solid #e5e7eb;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #8B5CF6 0%, #3B82F6 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .new-chat-btn {
            width: 100%;
            padding: 12px 16px;
            margin: 16px;
            margin-bottom: 8px;
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .new-chat-btn:hover {
            background: #e5e7eb;
        }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: 0 16px;
        }

        .chat-history {
            margin-bottom: 24px;
        }

        .chat-history h3 {
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
        }

        .chat-item {
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            color: #374151;
            cursor: pointer;
            margin-bottom: 2px;
            transition: background-color 0.2s;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .chat-item:hover {
            background: #f3f4f6;
        }

        .chat-item.active {
            background: #eff6ff;
            color: #3B82F6;
        }

        .user-section {
            padding: 16px;
            border-top: 1px solid #e5e7eb;
            margin-top: auto;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #8B5CF6 0%, #3B82F6 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .user-details h4 {
            font-size: 14px;
            font-weight: 600;
            color: #1f2937;
        }

        .user-plan {
            font-size: 12px;
            color: #6b7280;
        }

        .tier-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .tier-free { background: #dcfce7; color: #166534; }
        .tier-pro { background: #fef3c7; color: #92400e; }
        .tier-enterprise { background: #ede9fe; color: #6b21a8; }

        .usage-info {
            background: #f9fafb;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
        }

        .usage-item {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            margin-bottom: 8px;
        }

        .usage-item:last-child {
            margin-bottom: 0;
        }

        .usage-bar {
            width: 100%;
            height: 4px;
            background: #e5e7eb;
            border-radius: 2px;
            overflow: hidden;
            margin-top: 4px;
        }

        .usage-fill {
            height: 100%;
            background: linear-gradient(90deg, #8B5CF6, #3B82F6);
            transition: width 0.3s ease;
        }

        .upgrade-btn {
            width: 100%;
            padding: 10px;
            background: linear-gradient(135deg, #8B5CF6 0%, #3B82F6 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: opacity 0.2s;
        }

        .upgrade-btn:hover {
            opacity: 0.9;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #ffffff;
        }

        .chat-header {
            padding: 16px 24px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-title {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
        }

        .model-selector {
            background: #f9fafb;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 14px;
            cursor: pointer;
            min-width: 180px;
        }

        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            max-height: calc(100vh - 140px);
        }

        .messages-area {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
            scroll-behavior: smooth;
        }

        .message {
            margin-bottom: 24px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .message.user .message-avatar {
            background: #e5e7eb;
            color: #374151;
        }

        .message.ai .message-avatar {
            background: linear-gradient(135deg, #8B5CF6 0%, #3B82F6 100%);
            color: white;
        }

        .message-content {
            max-width: calc(100% - 60px);
            font-size: 15px;
            line-height: 1.6;
            color: #374151;
        }

        .message.user .message-content {
            background: #f3f4f6;
            padding: 12px 16px;
            border-radius: 18px;
            border-bottom-right-radius: 4px;
        }

        .message.ai .message-content {
            border-radius: 18px;
            border-bottom-left-radius: 4px;
        }

        .input-area {
            padding: 16px 24px;
            border-top: 1px solid #e5e7eb;
            background: #ffffff;
        }

        .input-container {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }

        .message-input {
            width: 100%;
            min-height: 44px;
            max-height: 200px;
            padding: 12px 50px 12px 16px;
            border: 1px solid #d1d5db;
            border-radius: 24px;
            font-size: 15px;
            font-family: inherit;
            resize: none;
            outline: none;
            transition: border-color 0.2s;
            background: #ffffff;
        }

        .message-input:focus {
            border-color: #8B5CF6;
        }

        .send-button {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            width: 32px;
            height: 32px;
            background: #8B5CF6;
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }

        .send-button:hover:not(:disabled) {
            background: #7C3AED;
        }

        .send-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 16px;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #9ca3af;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; transform: translateY(0); }
            30% { opacity: 1; transform: translateY(-4px); }
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            padding: 32px;
            border-radius: 16px;
            max-width: 900px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
        }

        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 32px;
        }

        .pricing-card {
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 32px;
            text-align: center;
            position: relative;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .pricing-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
        }

        .pricing-card.featured {
            border-color: #8B5CF6;
            background: linear-gradient(135deg, #8B5CF608, #3B82F608);
        }

        .pricing-card.featured::before {
            content: "Most Popular";
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: #8B5CF6;
            color: white;
            padding: 6px 16px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 600;
        }

        .plan-name {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #1f2937;
        }

        .plan-price {
            font-size: 48px;
            font-weight: 800;
            color: #8B5CF6;
            margin-bottom: 4px;
        }

        .plan-period {
            font-size: 16px;
            color: #6b7280;
            margin-bottom: 32px;
        }

        .plan-features {
            list-style: none;
            text-align: left;
            margin-bottom: 32px;
        }

        .plan-features li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 15px;
        }

        .feature-check {
            width: 20px;
            height: 20px;
            background: #10b981;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .feature-cross {
            width: 20px;
            height: 20px;
            background: #ef4444;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .select-plan-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #8B5CF6 0%, #3B82F6 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: opacity 0.2s;
        }

        .select-plan-btn:hover {
            opacity: 0.9;
        }

        .select-plan-btn.current {
            background: #e5e7eb;
            color: #6b7280;
            cursor: default;
        }

        /* Welcome State */
        .welcome-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            text-align: center;
            padding: 48px;
        }

        .welcome-icon {
            font-size: 64px;
            margin-bottom: 24px;
        }

        .welcome-title {
            font-size: 32px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .welcome-subtitle {
            font-size: 18px;
            color: #6b7280;
            margin-bottom: 48px;
            max-width: 600px;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            width: 100%;
            max-width: 800px;
        }

        .quick-action {
            padding: 24px;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }

        .quick-action:hover {
            border-color: #8B5CF6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .action-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .action-title {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .action-desc {
            font-size: 14px;
            color: #6b7280;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                position: absolute;
                left: -100%;
                z-index: 100;
                transition: left 0.3s ease;
            }

            .sidebar.open {
                left: 0;
            }

            .main-content {
                width: 100%;
            }

            .messages-area {
                padding: 16px;
            }

            .input-area {
                padding: 12px 16px;
            }
        }

        /* Code Blocks */
        pre {
            background: #f8f9fa;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            overflow-x: auto;
            font-size: 14px;
            margin: 12px 0;
        }

        code {
            background: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 14px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }

        /* Lists */
        .message-content ul, .message-content ol {
            margin: 12px 0;
            padding-left: 24px;
        }

        .message-content li {
            margin: 4px 0;
        }

        /* Bold and Italic */
        .message-content strong {
            font-weight: 600;
        }

        .message-content em {
            font-style: italic;
        }

        /* Brand Colors Update */
        .zenith-gradient {
            background: linear-gradient(135deg, #8B5CF6 0%, #3B82F6 100%);
        }

        .zenith-text {
            background: linear-gradient(135deg, #8B5CF6 0%, #3B82F6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">Z</div>
                    ZenithIQ
                </div>
            </div>

            <button class="new-chat-btn" onclick="startNewChat()">
                <span>➕</span>
                New chat
            </button>

            <div class="sidebar-content">
                <div class="chat-history">
                    <h3>Recent</h3>
                    <div class="chat-item active">Getting started with ZenithIQ</div>
                    <div class="chat-item">Code generation help</div>
                    <div class="chat-item">Business analysis project</div>
                    <div class="chat-item">Creative writing assistance</div>
                </div>
            </div>

            <div class="user-section">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <div class="user-details">
                        <h4 id="userName">Demo User</h4>
                        <div class="user-plan">
                            <span class="tier-badge tier-free" id="userTier">Free</span>
                        </div>
                    </div>
                </div>

                <div class="usage-info">
                    <div class="usage-item">
                        <span>Messages today</span>
                        <span id="messageUsage">5/10</span>
                    </div>
                    <div class="usage-bar">
                        <div class="usage-fill" id="usageBar" style="width: 50%"></div>
                    </div>
                </div>

                <button class="upgrade-btn" onclick="showPricing()">
                    Upgrade to Pro
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="chat-header">
                <div class="chat-title">ZenithIQ AI Assistant</div>
                <select class="model-selector" id="modelSelector">
                    <option value="basic">ZenithIQ Basic</option>
                    <option value="pro" disabled>ZenithIQ Pro (Pro Plan)</option>
                    <option value="enterprise" disabled>ZenithIQ Enterprise (Enterprise)</option>
                </select>
            </div>

            <div class="chat-container">
                <div class="messages-area" id="messagesArea">
                    <div class="welcome-state" id="welcomeState">
                        <div class="welcome-icon">🎯</div>
                        <h1 class="welcome-title">Welcome to <span class="zenith-text">ZenithIQ</span></h1>
                        <p class="welcome-subtitle">
                            Experience peak artificial intelligence with ZenithIQ - your advanced AI platform for intelligent conversations, 
                            code generation, creative writing, and business analysis. Reach the zenith of productivity today!
                        </p>
                        
                        <div class="quick-actions">
                            <div class="quick-action" onclick="insertPrompt('code')">
                                <div class="action-icon">💻</div>
                                <div class="action-title">Code Generation</div>
                                <div class="action-desc">Advanced programming assistance</div>
                            </div>
                            <div class="quick-action" onclick="insertPrompt('creative')">
                                <div class="action-icon">✨</div>
                                <div class="action-title">Creative Writing</div>
                                <div class="action-desc">Stories, articles, and content</div>
                            </div>
                            <div class="quick-action" onclick="insertPrompt('business')">
                                <div class="action-icon">📊</div>
                                <div class="action-title">Business Analysis</div>
                                <div class="action-desc">Data insights and strategic reports</div>
                            </div>
                            <div class="quick-action" onclick="insertPrompt('research')">
                                <div class="action-icon">🔍</div>
                                <div class="action-title">Research Assistant</div>
                                <div class="action-desc">Academic and market research</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="input-area">
                    <div class="input-container">
                        <textarea 
                            class="message-input" 
                            id="messageInput" 
                            placeholder="Message ZenithIQ..."
                            rows="1"
                            onkeydown="handleKeyDown(event)"
                            oninput="adjustTextareaHeight()"
                        ></textarea>
                        <button class="send-button" id="sendButton" onclick="sendMessage()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M2 21l21-9L2 3v7l15 2-15 2v7z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pricing Modal -->
    <div class="modal" id="pricingModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closePricing()">&times;</button>
            <h2 style="text-align: center; margin-bottom: 16px;">Choose Your ZenithIQ Plan</h2>
            <p style="text-align: center; color: #6b7280; margin-bottom: 32px;">
                Unlock peak AI intelligence and reach the zenith of productivity
            </p>
            
            <div class="pricing-grid">
                <div class="pricing-card">
                    <div class="plan-name">Free</div>
                    <div class="plan-price">$0</div>
                    <div class="plan-period">per month</div>
                    <ul class="plan-features">
                        <li><span class="feature-check">✓</span> 10 messages per day</li>
                        <li><span class="feature-check">✓</span> ZenithIQ Basic model</li>
                        <li><span class="feature-check">✓</span> Standard support</li>
                        <li><span class="feature-cross">✗</span> Advanced AI models</li>
                        <li><span class="feature-cross">✗</span> Priority support</li>
                        <li><span class="feature-cross">✗</span> API access</li>
                    </ul>
                    <button class="select-plan-btn current">Current Plan</button>
                </div>

                <div class="pricing-card featured">
                    <div class="plan-name">Pro</div>
                    <div class="plan-price">$29</div>
                    <div class="plan-period">per month</div>
                    <ul class="plan-features">
                        <li><span class="feature-check">✓</span> Unlimited messages</li>
                        <li><span class="feature-check">✓</span> All ZenithIQ models</li>
                        <li><span class="feature-check">✓</span> Priority support</li>
                        <li><span class="feature-check">✓</span> Advanced code generation</li>
                        <li><span class="feature-check">✓</span> API access</li>
                        <li><span class="feature-check">✓</span> Premium features</li>
                    </ul>
                    <button class="select-plan-btn" onclick="selectPlan('pro')">Upgrade to Pro</button>
                </div>

                <div class="pricing-card">
                    <div class="plan-name">Enterprise</div>
                    <div class="plan-price">$99</div>
                    <div class="plan-period">per month</div>
                    <ul class="plan-features">
                        <li><span class="feature-check">✓</span> Everything in Pro</li>
                        <li><span class="feature-check">✓</span> Custom AI training</li>
                        <li><span class="feature-check">✓</span> White-label option</li>
                        <li><span class="feature-check">✓</span> Team collaboration</li>
                        <li><span class="feature-check">✓</span> Advanced analytics</li>
                        <li><span class="feature-check">✓</span> Dedicated support</li>
                    </ul>
                    <button class="select-plan-btn" onclick="selectPlan('enterprise')">Go Enterprise</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // User data
        let userData = {
            name: 'Demo User',
            tier: 'free',
            messageCount: 5,
            messageLimit: 10
        };

        let conversationHistory = [];
        let isFirstMessage = true;

        // AI Response Engine
        class ZenithIQAI {
            constructor(model = 'basic') {
                this.model = model;
            }

            async generateResponse(prompt) {
                // Simulate thinking time
                await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));

                const responses = this.getResponseTemplates();
                return this.selectBestResponse(prompt, responses);
            }

            getResponseTemplates() {
                if (this.model === 'basic') {
                    return {
                        greeting: [
                            "Hello! I'm ZenithIQ Basic, your AI assistant designed to help you reach new heights of productivity. I can assist with general questions and basic tasks. How can I help you today?",
                            "Hi there! Welcome to ZenithIQ Basic. I'm here to provide foundational AI assistance and answer your questions. What would you like to explore?",
                            "Greetings! I'm ZenithIQ Basic, your entry point to advanced AI capabilities. I can help with general tasks and queries. What's on your mind?"
                        ],
                        code: [
                            "I'd be happy to help with basic coding questions! However, for advanced code generation, complex algorithms, and professional development assistance, ZenithIQ Pro offers significantly more powerful capabilities. What coding help do you need?",
                            "I can assist with simple programming concepts and basic code examples. For comprehensive code generation, debugging, and advanced development features, ZenithIQ Pro would serve you much better. How can I help?",
                            "Basic coding assistance is available! Though for enterprise-level code generation, architecture design, and advanced programming support, ZenithIQ Pro provides the peak intelligence you need. What's your question?"
                        ],
                        creative: [
                            "I can help with basic creative writing! For advanced storytelling, professional content creation, and sophisticated creative capabilities, ZenithIQ Pro offers the creative zenith you're looking for. What would you like to create?",
                            "Creative writing assistance is available at a foundational level. For professional-grade content creation, advanced narrative techniques, and peak creative features, consider ZenithIQ Pro. What's your creative project?",
                            "I can provide simple creative writing help! However, for detailed creative projects, professional writing assistance, and advanced creative intelligence, ZenithIQ Pro would unlock your creative potential. What do you need?"
                        ],
                        business: [
                            "I can offer basic business insights! For comprehensive business analysis, detailed strategic reports, market intelligence, and peak business performance features, ZenithIQ Pro provides superior capabilities. What business question do you have?",
                            "Basic business assistance is available! Though for thorough analysis, strategic planning, and professional business intelligence that reaches the zenith of insight, ZenithIQ Pro offers much more advanced features. How can I help?",
                            "I can help with simple business questions! For detailed business analysis, market insights, and enterprise-grade business intelligence, ZenithIQ Pro would elevate your business strategy to new heights. What do you need assistance with?"
                        ],
                        default: [
                            "I understand you're asking about that topic. As ZenithIQ Basic, I can provide general information and foundational assistance. For more detailed and advanced responses that reach the peak of AI intelligence, consider upgrading to ZenithIQ Pro or Enterprise.",
                            "That's an interesting question! With my basic capabilities, I can offer general insights. For comprehensive analysis and advanced features that represent the zenith of AI technology, ZenithIQ Pro would give you much better results.",
                            "I can help with that at a foundational level! However, for more sophisticated responses and peak AI capabilities, upgrading to a higher tier would provide significantly better assistance and unlock ZenithIQ's full potential."
                        ]
                    };
                } else if (this.model === 'pro') {
                    return {
                        greeting: [
                            "Hello! I'm ZenithIQ Pro, your advanced AI assistant representing the peak of artificial intelligence. I have enhanced capabilities for coding, creative writing, business analysis, and much more. How can I help you reach new heights today?",
                            "Hi there! Welcome to ZenithIQ Pro - where AI intelligence reaches its zenith. I offer advanced capabilities including sophisticated code generation, professional writing assistance, and comprehensive analysis. What would you like to accomplish?",
                            "Greetings! I'm ZenithIQ Pro with peak intelligence and advanced features. I can help with complex tasks, detailed analysis, and professional-grade assistance that represents the zenith of AI capability. What can I do for you?"
                        ],
                        code: [
                            "Excellent! I excel at advanced code generation. I can write complete applications, debug complex issues, explain sophisticated algorithms, create enterprise-level solutions, and provide peak programming assistance. What coding challenge can I help you conquer?",
                            "Perfect! With my advanced coding capabilities, I can generate complex code, architect robust solutions, debug intricate issues, and provide comprehensive programming support that reaches the zenith of development assistance. What would you like me to build?",
                            "Great choice! I specialize in professional programming tasks - from simple scripts to enterprise applications. I can generate, debug, optimize, and explain code across multiple languages with peak intelligence. What's your coding project?"
                        ],
                        creative: [
                            "Wonderful! I have advanced creative capabilities that represent the zenith of AI creativity. I can write compelling stories, professional articles, marketing copy, scripts, poems, and much more with sophisticated language and style. What creative project should we tackle?",
                            "Fantastic! My creative writing abilities include storytelling, content creation, copywriting, screenwriting, and more at a professional level. I can adapt to different styles, tones, and formats with peak creativity. What would you like me to create?",
                            "Perfect! I specialize in creative content that reaches new heights - from engaging narratives to professional marketing materials. I can match any style or tone you need with advanced creative intelligence. What creative challenge can I help you with?"
                        ],
                        business: [
                            "Excellent! I provide comprehensive business analysis that reaches the zenith of business intelligence - including market research, strategic planning, competitive analysis, financial modeling, and detailed reporting. What business challenge can I help you solve?",
                            "Great! My business capabilities include advanced data analysis, market insights, strategic recommendations, business plan development, and professional reporting that represents peak business intelligence. What business area needs attention?",
                            "Perfect! I excel at business intelligence that reaches new heights - from market analysis to strategic planning and detailed business reports. I can help with any business challenge with advanced analytical capabilities. What do you need assistance with?"
                        ],
                        default: [
                            "I'm ZenithIQ Pro with advanced reasoning capabilities that represent the peak of AI intelligence. I can provide detailed analysis, sophisticated insights, and comprehensive responses on virtually any topic. How can I assist you with this?",
                            "With my enhanced AI capabilities that reach the zenith of artificial intelligence, I can offer in-depth analysis and detailed responses. I'm designed to handle complex queries and provide professional-grade assistance. What would you like to explore?",
                            "As ZenithIQ Pro, I have advanced capabilities to provide thorough, detailed responses with sophisticated reasoning that represents peak AI intelligence. I can help with complex tasks and detailed analysis. How can I assist?"
                        ]
                    };
                } else { // enterprise
                    return {
                        greeting: [
                            "Welcome to ZenithIQ Enterprise! I'm your most advanced AI assistant representing the absolute zenith of artificial intelligence with custom training capabilities, maximum intelligence, and enterprise-grade features. I can handle the most complex tasks and provide the highest level of assistance. How may I serve you today?",
                            "Greetings! I'm ZenithIQ Enterprise - the pinnacle of AI assistance with custom training, advanced reasoning, and enterprise-level capabilities that reach the absolute zenith of intelligence. I'm designed for the most demanding tasks and complex challenges. What can I accomplish for you?",
                            "Hello! You're now using ZenithIQ Enterprise, the most powerful version representing the peak of AI technology with custom training and maximum intelligence. I can handle enterprise-level complexity and provide the most sophisticated assistance available. How can I help?"
                        ],
                        code: [
                            "Outstanding! I'm the most advanced coding AI available, representing the zenith of programming intelligence. I can architect complex enterprise systems, generate production-ready code, optimize performance, handle advanced algorithms, and provide custom programming solutions. What enterprise-level coding challenge shall we tackle?",
                            "Excellent! With enterprise-level coding capabilities that reach the peak of programming intelligence, I can design complete systems, generate production-ready code, implement advanced algorithms, and provide architectural guidance. What complex programming project can I help you with?",
                            "Perfect! I offer the highest level of coding assistance - from enterprise architecture to advanced algorithms and custom solutions that represent the zenith of programming intelligence. I can handle the most complex programming challenges. What shall we build?"
                        ],
                        creative: [
                            "Magnificent! I have the most sophisticated creative capabilities with custom training that reaches the absolute zenith of creative intelligence. I can create enterprise-grade content, advanced narratives, professional campaigns, and custom creative solutions. What creative endeavor shall we pursue?",
                            "Wonderful! My enterprise creative capabilities include custom-trained writing, sophisticated storytelling, professional content creation, and brand-specific creative solutions that represent the peak of creative AI. What creative challenge requires my highest-level assistance?",
                            "Excellent! I provide the most advanced creative assistance with custom training capabilities and enterprise-grade content creation that reaches the zenith of creative intelligence. I can adapt to any style, brand, or creative requirement. What shall we create together?"
                        ],
                        business: [
                            "Outstanding! I offer the most comprehensive business intelligence with custom training that represents the absolute zenith of business AI. I can provide enterprise-level analysis, strategic planning, market intelligence, and custom business solutions. What complex business challenge can I solve?",
                            "Excellent! My enterprise business capabilities include custom analysis, advanced market intelligence, strategic consulting, and industry-specific insights that reach the peak of business intelligence. I'm trained for the most complex business challenges. How can I assist your enterprise?",
                            "Perfect! I provide the highest level of business intelligence with custom training and enterprise-grade analysis that represents the zenith of business AI. I can handle the most complex business challenges and provide strategic insights. What shall we analyze?"
                        ],
                        default: [
                            "I'm ZenithIQ Enterprise, the most advanced AI with custom training capabilities and maximum intelligence that represents the absolute zenith of artificial intelligence. I can handle the most complex queries and provide enterprise-grade solutions with sophisticated reasoning. How can I apply my highest-level capabilities to assist you?",
                            "With enterprise-level AI capabilities and custom training that reaches the peak of intelligence, I can provide the most sophisticated analysis and solutions. I'm designed for the most complex challenges and demanding requirements. What enterprise-level task can I help you accomplish?",
                            "As ZenithIQ Enterprise, I offer the pinnacle of AI assistance with custom training and maximum intelligence that represents the zenith of artificial intelligence. I can handle any complexity and provide the most advanced solutions available. How may I serve your enterprise needs?"
                        ]
                    };
                }
            }

            selectBestResponse(prompt, responses) {
                const lowerPrompt = prompt.toLowerCase();
                
                if (lowerPrompt.includes('hello') || lowerPrompt.includes('hi') || lowerPrompt.includes('hey')) {
                    return this.getRandomResponse(responses.greeting);
                } else if (lowerPrompt.includes('code') || lowerPrompt.includes('programming') || lowerPrompt.includes('develop')) {
                    return this.getRandomResponse(responses.code);
                } else if (lowerPrompt.includes('creative') || lowerPrompt.includes('write') || lowerPrompt.includes('story')) {
                    return this.getRandomResponse(responses.creative);
                } else if (lowerPrompt.includes('business') || lowerPrompt.includes('analysis') || lowerPrompt.includes('market')) {
                    return this.getRandomResponse(responses.business);
                } else {
                    return this.getRandomResponse(responses.default);
                }
            }

            getRandomResponse(responseArray) {
                return responseArray[Math.floor(Math.random() * responseArray.length)];
            }
        }

        // Initialize AI instances
        const aiModels = {
            basic: new ZenithIQAI('basic'),
            pro: new ZenithIQAI('pro'),
            enterprise: new ZenithIQAI('enterprise')
        };

        // UI Functions
        function adjustTextareaHeight() {
            const textarea = document.getElementById('messageInput');
            textarea.style.height = 'auto';
            textarea.style.height = Math.min(textarea.scrollHeight, 200) + 'px';
        }

        function addMessage(sender, content) {
            if (isFirstMessage) {
                document.getElementById('welcomeState').style.display = 'none';
                isFirstMessage = false;
            }

            const messagesArea = document.getElementById('messagesArea');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${sender === 'user' ? 'U' : 'Z'}</div>
                <div class="message-content">
                    ${formatMessage(content)}
                </div>
            `;
            
            messagesArea.appendChild(messageDiv);
            messagesArea.scrollTop = messagesArea.scrollHeight;
        }

        function formatMessage(content) {
            return content
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/`([^`]+)`/g, '<code>$1</code>')
                .replace(/```(\w+)?\n([\s\S]*?)```/g, '<pre><code>$2</code></pre>')
                .replace(/\n/g, '<br>');
        }

        function showTypingIndicator() {
            const messagesArea = document.getElementById('messagesArea');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'typing-indicator';
            
            typingDiv.innerHTML = `
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
                <span>ZenithIQ is thinking...</span>
            `;
            
            messagesArea.appendChild(typingDiv);
            messagesArea.scrollTop = messagesArea.scrollHeight;
        }

        function hideTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) indicator.remove();
        }

        function updateUsageDisplay() {
            const usage = `${userData.messageCount}/${userData.messageLimit}`;
            document.getElementById('messageUsage').textContent = usage;
            
            const percentage = (userData.messageCount / userData.messageLimit) * 100;
            document.getElementById('usageBar').style.width = percentage + '%';
        }

        async function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Check limits
            if (userData.messageCount >= userData.messageLimit && userData.tier === 'free') {
                addMessage('ai', '⚠️ You\'ve reached your daily message limit! Upgrade to ZenithIQ Pro for unlimited messages and access to advanced AI models that represent the peak of intelligence.');
                showPricing();
                return;
            }
            
            // Add user message
            addMessage('user', message);
            input.value = '';
            input.style.height = 'auto';
            
            // Update usage
            userData.messageCount++;
            updateUsageDisplay();
            saveUserData();
            
            // Show thinking
            showTypingIndicator();
            
            try {
                const selectedModel = document.getElementById('modelSelector').value;
                const ai = aiModels[selectedModel];
                const response = await ai.generateResponse(message);
                
                hideTypingIndicator();
                addMessage('ai', response);
                
                // Add to history
                conversationHistory.push({user: message, ai: response});
                
            } catch (error) {
                hideTypingIndicator();
                addMessage('ai', '❌ I encountered an error. Please try again.');
                console.error('AI Error:', error);
            }
        }

        function handleKeyDown(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        function insertPrompt(type) {
            const prompts = {
                code: "Can you help me write a Python function that ",
                creative: "Write a creative story about ",
                business: "Analyze the market trends for ",
                research: "I need research on "
            };
            
            const input = document.getElementById('messageInput');
            input.value = prompts[type] || '';
            input.focus();
            adjustTextareaHeight();
        }

        function startNewChat() {
            document.getElementById('messagesArea').innerHTML = '';
            document.getElementById('welcomeState').style.display = 'flex';
            isFirstMessage = true;
            conversationHistory = [];
        }

        function showPricing() {
            document.getElementById('pricingModal').style.display = 'flex';
        }

        function closePricing() {
            document.getElementById('pricingModal').style.display = 'none';
        }

        function selectPlan(plan) {
            userData.tier = plan;
            
            if (plan === 'pro') {
                userData.messageLimit = 999999;
                document.getElementById('userTier').textContent = 'Pro';
                document.getElementById('userTier').className = 'tier-badge tier-pro';
                document.querySelector('option[value="pro"]').disabled = false;
                document.querySelector('.upgrade-btn').textContent = 'Upgrade to Enterprise';
            } else if (plan === 'enterprise') {
                userData.messageLimit = 999999;
                document.getElementById('userTier').textContent = 'Enterprise';
                document.getElementById('userTier').className = 'tier-badge tier-enterprise';
                document.querySelector('option[value="pro"]').disabled = false;
                document.querySelector('option[value="enterprise"]').disabled = false;
                document.querySelector('.upgrade-btn').style.display = 'none';
            }
            
            updateUsageDisplay();
            saveUserData();
            closePricing();
            
            addMessage('ai', `🎯 Welcome to ZenithIQ ${plan.charAt(0).toUpperCase() + plan.slice(1)}! You now have access to peak AI intelligence with unlimited messaging and advanced features. Try asking me something complex to experience the zenith of AI capability!`);
        }

        function saveUserData() {
            localStorage.setItem('zenithIQUserData', JSON.stringify(userData));
        }

        function loadUserData() {
            const saved = localStorage.getItem('zenithIQUserData');
            if (saved) {
                userData = {...userData, ...JSON.parse(saved)};
                updateUI();
            }
        }

        function updateUI() {
            document.getElementById('userName').textContent = userData.name;
            document.getElementById('userTier').textContent = userData.tier.charAt(0).toUpperCase() + userData.tier.slice(1);
            document.getElementById('userTier').className = `tier-badge tier-${userData.tier}`;
            
            if (userData.tier === 'pro') {
                document.querySelector('option[value="pro"]').disabled = false;
                document.querySelector('.upgrade-btn').textContent = 'Upgrade to Enterprise';
            } else if (userData.tier === 'enterprise') {
                document.querySelector('option[value="pro"]').disabled = false;
                document.querySelector('option[value="enterprise"]').disabled = false;
                document.querySelector('.upgrade-btn').style.display = 'none';
            }
            
            updateUsageDisplay();
        }

        // Revenue tracking simulation
        let platformStats = {
            totalUsers: 18750,
            freeUsers: 16800,
            proUsers: 1650,
            enterpriseUsers: 300,
            monthlyRevenue: 0,
            totalRevenue: 0
        };

        function calculateRevenue() {
            platformStats.monthlyRevenue = (platformStats.proUsers * 29) + (platformStats.enterpriseUsers * 99);
            platformStats.totalRevenue += platformStats.monthlyRevenue;
        }

        function showPlatformStats() {
            calculateRevenue();
            addMessage('ai', `📊 **ZenithIQ Platform Analytics**

**User Base:**
• Total Users: ${platformStats.totalUsers.toLocaleString()}
• Free Tier: ${platformStats.freeUsers.toLocaleString()} (${(platformStats.freeUsers/platformStats.totalUsers*100).toFixed(1)}%)
• Pro Tier: ${platformStats.proUsers.toLocaleString()} (${(platformStats.proUsers/platformStats.totalUsers*100).toFixed(1)}%)
• Enterprise: ${platformStats.enterpriseUsers.toLocaleString()} (${(platformStats.enterpriseUsers/platformStats.totalUsers*100).toFixed(1)}%)

**Revenue Performance:**
• Monthly Recurring Revenue: $${platformStats.monthlyRevenue.toLocaleString()}
• Annual Run Rate: $${(platformStats.monthlyRevenue * 12).toLocaleString()}
• Total Revenue Generated: $${platformStats.totalRevenue.toLocaleString()}

**Growth Metrics:**
• Conversion Rate (Free → Pro): ${(platformStats.proUsers/(platformStats.freeUsers+platformStats.proUsers)*100).toFixed(2)}%
• Enterprise Adoption: ${(platformStats.enterpriseUsers/platformStats.totalUsers*100).toFixed(2)}%
• Average Revenue Per User: $${(platformStats.monthlyRevenue/platformStats.totalUsers).toFixed(2)}/month

**Business Intelligence:**
Your ZenithIQ platform represents the zenith of AI business success! With strong conversion rates and growing enterprise adoption, you're positioned for exponential growth. Focus on enterprise sales and premium feature development to reach new revenue heights.

**Projected Annual Revenue:** $${((platformStats.monthlyRevenue * 12) * 1.5).toLocaleString()} (with 50% growth)`);
        }

        // Demo mode features
        function enableDemoMode() {
            // Add demo buttons
            const demoContainer = document.createElement('div');
            demoContainer.style.cssText = 'position:fixed;top:10px;right:10px;z-index:1000;display:flex;gap:8px;';
            
            const statsBtn = document.createElement('button');
            statsBtn.textContent = '📊 Revenue Stats';
            statsBtn.style.cssText = 'padding:8px 12px;background:#8B5CF6;color:white;border:none;border-radius:6px;cursor:pointer;font-size:12px;';
            statsBtn.onclick = showPlatformStats;
            
            const upgradeBtn = document.createElement('button');
            upgradeBtn.textContent = '⬆️ Demo Upgrade';
            upgradeBtn.style.cssText = 'padding:8px 12px;background:#10b981;color:white;border:none;border-radius:6px;cursor:pointer;font-size:12px;';
            upgradeBtn.onclick = () => selectPlan('pro');
            
            const enterpriseBtn = document.createElement('button');
            enterpriseBtn.textContent = '🏢 Enterprise';
            enterpriseBtn.style.cssText = 'padding:8px 12px;background:#7C3AED;color:white;border:none;border-radius:6px;cursor:pointer;font-size:12px;';
            enterpriseBtn.onclick = () => selectPlan('enterprise');
            
            demoContainer.appendChild(statsBtn);
            demoContainer.appendChild(upgradeBtn);
            demoContainer.appendChild(enterpriseBtn);
            document.body.appendChild(demoContainer);
            
            // Simulate user growth
            setInterval(() => {
                if (Math.random() < 0.3) {
                    platformStats.totalUsers += Math.floor(Math.random() * 8) + 2;
                    platformStats.freeUsers += Math.floor(Math.random() * 6) + 2;
                    if (Math.random() < 0.12) {
                        platformStats.proUsers += 1;
                        platformStats.freeUsers -= 1;
                    }
                    if (Math.random() < 0.06) {
                        platformStats.enterpriseUsers += 1;
                        if (platformStats.proUsers > 0) {
                            platformStats.proUsers -= 1;
                        }
                    }
                }
            }, 5000);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            loadUserData();
            enableDemoMode();
            
            // Add welcome message after a delay
            setTimeout(() => {
                if (isFirstMessage) {
                    // Don't add a message, let the welcome state show
                }
            }, 1000);
        });

        // Export API for external integration
        window.ZenithIQAPI = {
            sendMessage,
            upgradeUser: selectPlan,
            getStats: () => platformStats,
            userData
        };
    </script>
</body>
</html>
